<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#000000" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="description" content="Rifas de Compas con Causa ‚Äì Baj√≠o M√©xico. Sorteos reales, seguros y con causa. Participa y apoya causas locales en San Francisco del Rinc√≥n." />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Rifas de Compas con Causa ‚Äì Baj√≠o M√©xico" />
  <meta property="og:description" content="Sorteos reales, seguros y con causa. Participa y apoya causas locales en San Francisco del Rinc√≥n." />
  <meta property="og:image" content="img/mazda.jpg" />
  <title>Rifas de Compas con Causa ‚Äì Baj√≠o M√©xico</title>

  <!-- Fonts & preconnect -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">

  <!-- Icons / favicon -->
  <link rel="icon" type="image/png" href="img/logo.png">
  <link rel="apple-touch-icon" href="img/logo.png">

  <!-- Preload images -->
  <link rel="preload" as="image" href="img/logo.png">
  <link rel="preload" as="image" href="img/mazda.jpg">

  <style>
    /* =========================================================================
       Variables de tema (paleta basada en el logo)
       ========================================================================= */
    :root{
      --gold-soft: #e1b86c;
      --gold-dark: #c49a50;
      --green: #4caf50;
      --green-dark: #2e7d32;
      --carbon: #000000;
      --white: #ffffff;

      --radius-xl: 22px;
      --radius-md: 16px;
      --blur-bg: rgba(20,20,20,0.82);

      --shadow-glass: 0 6px 48px rgba(0,0,0,0.6);
      --shadow-wallet: 0 12px 50px rgba(225,184,108,0.16);
      --shadow-btn: 0 12px 34px rgba(225,184,108,0.12);
      --shadow-card: 0 20px 80px rgba(0,0,0,0.6);

      --font-main: 'Inter', 'SF Pro Display', system-ui, Arial, sans-serif;

      --transition-main: .45s cubic-bezier(.22,.68,.48,1);
      --transition-fast: .22s cubic-bezier(.42,.88,.43,1.37);
    }

    /* =========================================================================
       Base & Layout
       ========================================================================= */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font-main);
      background:linear-gradient(180deg,#050505 0%, #080808 60%);
      color:var(--white);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
      scroll-behavior:smooth;
    }
    a{color:inherit}
    img{max-width:100%;height:auto;display:block;max-height:100%}

    /* =========================================================================
       NAVBAR (glassmorphism + brand)
       ========================================================================= */
    header{
      position:sticky; top:0; z-index:120;
      background: linear-gradient(180deg, rgba(10,10,10,0.55), rgba(10,10,10,0.35));
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(225,184,108,0.06);
      transition: transform .36s ease, background .36s ease;
    }
    .navbar{
      max-width:1120px; margin:0 auto; padding:10px 6vw; height:74px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }

    /* brand (logo + text) */
    .navbar__brand{ display:flex; align-items:center; gap:.9rem; text-decoration:none }
    .brand-link{ display:flex; align-items:center; gap:.9rem; text-decoration:none; color:inherit; }
    .brand-logo{
      width:48px; height:48px; border-radius:11px; padding:3px;
      background:#111; border:2px solid var(--gold-soft);
      box-shadow:0 6px 22px rgba(225,184,108,0.12); transition:transform .25s;
    }
    .brand-logo:hover{ transform:translateY(-3px)}
    .brand-text{ display:flex; flex-direction:column; line-height:1; }
    .brand-name{ font-weight:900; color:var(--gold-soft); font-size:1.05rem; letter-spacing:.01em}
    .brand-tag{ font-weight:700; color:var(--white); opacity:.8; font-size:.82rem }

    .navbar__menu-btn{
      width:46px; height:46px; border-radius:50%; background:transparent; border:none; cursor:pointer;
      display:flex; align-items:center; justify-content:center;
    }
    .navbar__menu-icon{ width:28px; height:24px; position:relative }
    .navbar__menu-icon span{
      position:absolute; left:0; right:0; height:3px; background:var(--gold-soft); border-radius:6px;
      transition: transform .28s, opacity .2s;
    }
    .navbar__menu-icon span:nth-child(1){ top:0 }
    .navbar__menu-icon span:nth-child(2){ top:10px }
    .navbar__menu-icon span:nth-child(3){ top:20px }
    .navbar__menu-btn.active .navbar__menu-icon span:nth-child(1){ transform: translateY(10px) rotate(45deg) }
    .navbar__menu-btn.active .navbar__menu-icon span:nth-child(2){ opacity:0 }
    .navbar__menu-btn.active .navbar__menu-icon span:nth-child(3){ transform: translateY(-10px) rotate(-45deg) }

    /* drawer */
    nav.navbar__links{ display:none; position:fixed; inset:0; z-index:110; opacity:0; pointer-events:none }
    nav.navbar__links.active{ display:block; opacity:1; pointer-events:all }
    .navbar__drawer{
      width:86vw; max-width:360px; height:100dvh; background:linear-gradient(180deg,#0b0b0b,#0a0a0a);
      border-right: 3px solid var(--gold-dark); padding:34px 22px; border-radius:0 22px 22px 0;
      box-shadow: 24px 0 80px rgba(0,0,0,0.7);
    }
    .navbar__drawer ul{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:18px; font-weight:800; font-size:1.12rem }
    .navbar__drawer a{ color:var(--gold-soft); text-decoration:none; padding:.5em .7em; border-radius:10px }
    .drawer-cta{ margin-top:1.5em; display:inline-block; background:linear-gradient(94deg,var(--green-dark) 10%,var(--green) 94%); color:#fff; padding:.9em 1.4em; border-radius:18px; font-weight:800 }

    /* =========================================================================
       HERO (animated, cinematic)
       ========================================================================= */
    .hero{
      min-height:calc(100dvh - 74px); display:flex; flex-direction:column; align-items:center; justify-content:center; padding:56px 5vw;
      position:relative; overflow:hidden;
    }
    /* decorative glowing background */
    .hero__bg{
      position:absolute; inset:0; z-index:0; pointer-events:none; opacity:.22;
      background-image: radial-gradient(ellipse at 20% 10%, rgba(225,184,108,0.12), transparent 12%), radial-gradient(ellipse at 80% 80%, rgba(76,175,80,0.06), transparent 10%);
      mix-blend-mode:hard-light;
    }

    .hero__logo{ z-index:2; border-radius:28px; padding:10px; border:2px solid rgba(225,184,108,0.18); animation:logoPop .9s cubic-bezier(.2,1.2,.22,1) both }
    @keyframes logoPop{ from{opacity:0; transform:scale(.7) rotate(-6deg)} 50%{ transform:scale(1.08) } to{ opacity:1; transform:scale(1)} }
    .hero__logo img{ width:108px; height:auto; border-radius:16px; display:block }

    .hero__title{
      margin:18px 0 8px 0; font-size:2.5rem; font-weight:900; color:var(--gold-soft); text-align:center;
      text-shadow:0 10px 40px rgba(0,0,0,.65); z-index:2;
      transform-origin:center;
      animation:heroTitleIn .9s .15s both;
    }
    @keyframes heroTitleIn{ from{opacity:0; transform: translateY(20px) scale(.98)} to{opacity:1; transform:none} }

    .hero__subtitle{
      color:var(--white); opacity:.92; font-size:1.06rem; text-align:center; max-width:880px; margin-bottom:18px; z-index:2;
      animation:fadeInUp .9s .28s both;
    }

    .hero__cta{
      z-index:2; display:inline-block; text-decoration:none; margin-top:10px;
      background:linear-gradient(94deg,var(--green-dark) 10%,var(--green) 94%);
      color:var(--white); padding:1em 2.2em; border-radius:30px; font-weight:900; border:2px solid var(--gold-dark);
      box-shadow:0 16px 44px rgba(76,175,80,0.12);
      animation:ctaPulse 2.6s infinite ease-in-out;
    }
    @keyframes ctaPulse{ 0%{ transform:translateY(0) } 50%{ transform:translateY(-3px) } 100%{ transform:translateY(0) } }

    /* animated badge near hero (nuevo) */
    .hero-badge{
      position:absolute; top:44px; right:6vw; z-index:3; background:linear-gradient(90deg,var(--gold-soft),var(--gold-dark));
      color:#080808; padding:.5em .9em; border-radius:999px; font-weight:900; box-shadow:0 10px 30px rgba(225,184,108,0.12);
      transform:translateY(-6px); animation:badgePop .9s .5s both;
    }
    @keyframes badgePop{ from{opacity:0; transform:translateY(-16px) scale(.9)} to{opacity:1; transform:none} }

    /* =========================================================================
       RIFAS CARD (single Mazda) - reveal, hover, animated progress
       ========================================================================= */
    .section{ max-width:1120px; margin:0 auto; padding:64px 4vw 36px 4vw; display:flex; flex-direction:column; align-items:center }
    .section__title{ font-size:1.55rem; font-weight:900; background:-webkit-linear-gradient(180deg,var(--gold-soft) 28%,var(--gold-dark) 75%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin-bottom:1.4rem }

    .rifas__cards{ width:100%; max-width:920px; display:grid; gap:28px }
    .rifa-card{
      background: linear-gradient(180deg, rgba(12,12,12,0.95), rgba(18,18,18,0.96));
      border-radius:18px; padding:20px; border:1px solid rgba(225,184,108,0.05); box-shadow:var(--shadow-card);
      display:flex; flex-direction:column; align-items:center; overflow:visible; position:relative;
      transform-origin:center; transition: transform .32s cubic-bezier(.2,.9,.3,1), box-shadow .32s;
    }
    .rifa-card:hover{ transform: translateY(-8px) scale(1.01); box-shadow: 0 40px 120px rgba(0,0,0,0.7) }

    .rifa-card__hero{ width:100%; max-width:920px; border-radius:14px; overflow:hidden; display:block; position:relative }
    .rifa-card__img{
      width:100%; height:auto; display:block; object-fit:cover; border-radius:12px;
      transform:translateY(24px) scale(1.03); opacity:0; transition: transform .9s cubic-bezier(.18,1,.28,1), opacity .9s;
      box-shadow: 0 24px 80px rgba(0,0,0,0.7);
    }
    .rifa-card__img.visible{ transform:translateY(0) scale(1); opacity:1 }

    .rifa-card__title{ margin-top:16px; font-weight:900; color:var(--gold-soft); font-size:1.26rem; text-align:center }
    .rifa-card__sub{ color:var(--white); opacity:.86; font-weight:700; margin:.3em 0 .8em }
    .rifa-card__price{ font-weight:900; color:var(--green); margin-bottom:.6em }

    .rifa-card__progress-wrap{ width:94%; margin:.4em auto 1.1em }
    .rifa-card__progress-inner{ width:100%; height:14px; border-radius:12px; background: #0f0f0f; border:1px solid rgba(225,184,108,0.04); overflow:hidden; position:relative }
    .rifa-card__progress-bar{
      width:0; height:100%; border-radius:12px; background: linear-gradient(90deg, var(--gold-soft) 12%, var(--green) 96%); transition: width 1.5s cubic-bezier(.2,.95,.25,1);
      position:relative; overflow:hidden;
    }
    .rifa-card__progress-bar::before{
      content:""; position:absolute; inset:0; background:repeating-linear-gradient(45deg, rgba(255,255,255,0.04) 0 8px, rgba(0,0,0,0.03) 8px 16px);
      mix-blend-mode:overlay; animation:stripe 1.7s linear infinite;
    }
    @keyframes stripe{ from{ background-position:0 0 } to{ background-position: 64px 0 } }

    .rifa-card__progress-info{ display:flex; justify-content:space-between; font-weight:700; color:var(--gold-dark); opacity:.94; font-size:.95rem; margin-top:.34em }

    .rifa-card__btn{
      display:inline-block; margin-top:12px; background:linear-gradient(94deg,var(--gold-soft) 12%,var(--green) 92%);
      color:var(--carbon); padding:.95em 2.2em; border-radius:26px; font-weight:900; text-decoration:none; border:2px solid var(--gold-dark);
      box-shadow:var(--shadow-btn); transition: transform .12s, box-shadow .18s;
      position:relative;
    }
    .rifa-card__btn:hover{ transform:translateY(-4px); box-shadow:0 26px 66px rgba(225,184,108,0.18) }
    .rifa-card__btn:active{ transform:translateY(-1px) }

    /* =========================================================================
       STEPS / ABOUT / FOOTER - subtle reveal animations
       ========================================================================= */
    .steps__list{ display:flex; flex-direction:column; gap:18px; width:100%; max-width:820px; margin:28px auto 0 }
    @media(min-width:840px){ .steps__list{ flex-direction:row; gap:34px } }
    .step{
      background: rgba(24,24,24,0.9); border-radius:16px; padding:20px; display:flex; flex-direction:column; align-items:center; text-align:center;
      border:1px solid rgba(225,184,108,0.04); transform:translateY(12px); opacity:0; transition: all .6s cubic-bezier(.2,1,.3,1);
    }
    .step.visible{ transform:none; opacity:1 }
    .step__icon{ font-size:2.2rem; background:linear-gradient(124deg,var(--gold-soft) 22%, var(--green) 96%); -webkit-background-clip:text; color:transparent }
    .step__label{ font-weight:900; color:var(--gold-soft); margin-top:6px }

    .about__us{
      background: rgba(22,22,22,0.85); border-radius:18px; padding:34px; max-width:840px; margin:28px auto; color:var(--gold-dark); text-align:center;
      border:1px solid rgba(225,184,108,0.04); transform:translateY(14px); opacity:0; transition:all .6s;
    }
    .about__us.visible{ transform:none; opacity:1 }

    footer{
      max-width:920px; margin:40px auto 40px auto; padding:28px 6vw; border-radius:18px;
      background: rgba(10,10,10,0.95); border:1px solid rgba(225,184,108,0.04); box-shadow:0 20px 60px rgba(0,0,0,0.6);
      display:flex; flex-direction:column; gap:12px; align-items:center; transform:translateY(12px); opacity:0; transition:all .6s;
    }
    footer.visible{ transform:none; opacity:1 }

    .footer__links{ display:flex; gap:14px }
    .footer__links a{ color:var(--green); font-weight:800; text-decoration:none }
    .footer__socials{ display:flex; gap:12px; transform:translateY(8px); opacity:0; transition:all .6s }
    .footer__socials.visible{ transform:none; opacity:1 }
    .footer__socials a{
      width:36px; height:36px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; background:rgba(30,30,30,0.6);
      border:1px solid rgba(225,184,108,0.04); color:var(--gold-soft);
    }

    /* Confetti canvas on top */
    #confetti-canvas{ position:fixed; inset:0; pointer-events:none; z-index:160 }

    /* Responsive tweaks */
    @media(max-width:720px){
      .hero__title{ font-size:1.8rem }
      .hero-badge{ right:4vw; top:12vw }
      .rifa-card{ padding:16px; min-height:520px }
    }

    /* Accessibility helpers */
    .sr-only{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
  </style>
</head>

<body>
  <!-- Canvas confetti (used on CTA click) -->
  <canvas id="confetti-canvas" aria-hidden="true"></canvas>

  <!-- NAV -->
  <header id="pageHeader">
    <div class="navbar">
      <div class="navbar__brand">
        <a class="brand-link" href="#hero" aria-label="Inicio - Rifas de Compas con Causa">
          <img id="siteLogo" class="brand-logo" src="img/logo.png" alt="Logo Rifas de Compas con Causa" onerror="imgError(this)">
          <div class="brand-text">
            <span class="brand-name">Rifas de Compas</span>
            <span class="brand-tag">con Causa ¬∑ Baj√≠o, M√©xico</span>
          </div>
        </a>
      </div>

      <button id="menuBtn" class="navbar__menu-btn" aria-expanded="false" aria-label="Abrir men√∫">
        <span class="navbar__menu-icon" aria-hidden="true"><span></span><span></span><span></span></span>
      </button>

      <nav id="navbarLinks" class="navbar__links" aria-hidden="true" aria-label="Men√∫ principal">
        <div class="navbar__drawer" role="menu">
          <ul>
            <li><a href="#hero">Inicio</a></li>
            <li><a href="#rifas">Rifas Activas</a></li>
            <li><a href="#como-funciona">C√≥mo Funciona</a></li>
            <li><a href="#nosotros">Nosotros</a></li>
          </ul>
          <a class="drawer-cta" href="#rifas">Ver Rifas</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <main id="hero" class="hero" role="main">
    <div class="hero__bg" aria-hidden="true"></div>
    <div class="hero__logo" aria-hidden="true">
      <img src="img/logo.png" alt="Logo Rifas de Compas" onerror="imgError(this)">
    </div>

    <h1 class="hero__title">Sorteos reales, seguros y con causa.</h1>
    <p class="hero__subtitle">Participa en la primera rifa: <strong>¬°G√°nate un Mazda 3 2024 color negro!</strong> ‚Äî Apoyando causas locales en San Francisco del Rinc√≥n.</p>

    <a class="hero-badge" href="#rifas" aria-hidden="true">¬°Nueva Rifa!</a>
    <a class="hero__cta" href="#rifas">Ver Rifas Activas</a>
  </main>

  <!-- RIFAS (solo Mazda) -->
  <section id="rifas" class="section" aria-labelledby="rifas-title">
    <h2 id="rifas-title" class="section__title">Rifas Activas</h2>

    <div class="rifas__cards" role="list">
      <article id="mazda-card" class="rifa-card" role="listitem" aria-labelledby="mazda-title">
        <div class="rifa-card__hero" aria-hidden="false">
          <img id="mazdaImg" class="rifa-card__img" src="img/mazda.jpg" alt="Mazda 3 2024 negro - vista frontal" onerror="imgError(this)">
        </div>

        <h3 id="mazda-title" class="rifa-card__title">Mazda 3 2024 ‚Äî Negro</h3>
        <div class="rifa-card__sub">Gran rifa de A√±o Nuevo ¬∑ Rifas Guanajuato</div>
        <div class="rifa-card__price">Precio por n√∫mero: $250</div>

        <div class="rifa-card__progress-wrap" aria-hidden="true">
          <div class="rifa-card__progress-inner" role="progressbar" aria-label="Progreso boletos vendidos" aria-valuenow="34" aria-valuemin="0" aria-valuemax="100">
            <div id="progressBar" class="rifa-card__progress-bar" data-value="34"></div>
          </div>
          <div class="rifa-card__progress-info">
            <span>Boletos vendidos</span>
            <span id="progressText">68 / 200</span>
          </div>
        </div>

        <!-- CTA - link externo (abre en nueva pesta√±a) -->
        <a id="participarBtn" class="rifa-card__btn" href="https://www.asesoriamarketingdigital.com/s1-lista" target="_blank" rel="noopener noreferrer" aria-label="Participar en la rifa - abrir enlace">
          Participar
        </a>
      </article>
    </div>
  </section>

  <!-- COMO FUNCIONA -->
  <section id="como-funciona" class="section" aria-labelledby="como-title">
    <h2 id="como-title" class="section__title">¬øC√≥mo Funciona?</h2>
    <div class="steps__list">
      <div class="step">
        <div class="step__icon" aria-hidden="true">üõí</div>
        <div class="step__label">Compra tu n√∫mero</div>
        <div class="step__desc">Selecciona la rifa y adquiere tu boleto a trav√©s del enlace de participaci√≥n.</div>
      </div>
      <div class="step">
        <div class="step__icon" aria-hidden="true">üìÉ</div>
        <div class="step__label">Publicaci√≥n de lista</div>
        <div class="step__desc">Publicaremos la lista de participantes para revisar antes del sorteo.</div>
      </div>
      <div class="step">
        <div class="step__icon" aria-hidden="true">üé•</div>
        <div class="step__label">Sorteo en vivo</div>
        <div class="step__desc">El sorteo se transmitir√° en vivo y se anunciar√° al ganador p√∫blicamente.</div>
      </div>
    </div>
  </section>

  <!-- NOSOTROS -->
  <section id="nosotros" class="section" aria-labelledby="nosotros-title" style="padding-top:0">
    <h2 id="nosotros-title" class="section__title">Nosotros</h2>
    <div class="about__us" id="aboutBox">
      ‚ÄúNuestra raz√≥n de ser es transformar los sorteos en una experiencia con prop√≥sito. En Rifas Entre Amigos Guanajuato creemos que divertirse tambi√©n puede ser una forma de ayudar. Cada n√∫mero vendido representa una oportunidad de ganar y un aporte a causas reales.‚Äù
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="siteFooter" role="contentinfo">
    <div class="footer__links">
      <a href="#">Aviso de privacidad</a>
      <a href="#">T√©rminos y condiciones</a>
    </div>

    <div class="footer__socials" aria-label="Redes sociales">
      <!-- reemplaza href por tus enlaces reales -->
      <a id="facebookLink" href="#" aria-label="Facebook"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.353 15.365l.592-3.854H14.278V8.538c0-1.053.516-2.081 2.17-2.081h1.68V3.1a22.122 22.122 0 0 0-3.218-.276c-3.215 0-5.318 1.949-5.318 5.483V11.51H5.1v3.855H9.592v9.326A18.406 18.406 0 0 0 14.278 24h.006A18.406 18.406 0 0 0 17.353 24z"/></svg></a>
      <a id="instagramLink" href="#" aria-label="Instagram"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07a6.409 6.409 0 0 1 4.708 1.633 6.557 6.557 0 0 1 1.633 4.708c.058 1.267.07 1.647.07 4.85s-.012 3.584-.07 4.85a6.409 6.409 0 0 1-1.633 4.708A6.557 6.557 0 0 1 19.657 21.8a6.409 6.409 0 0 1-4.708 1.633c-1.267.058-1.647.07-4.85.07s-3.584-.012-4.85-.07A6.409 6.409 0 0 1 2.532 21.8 6.557 6.557 0 0 1 2.2 19.657 6.409 6.409 0 0 1 .564 14.95c-.058-1.267-.07-1.647-.07-4.85s.012-3.584.07-4.85A6.409 6.409 0 0 1 2.2 2.532 6.557 6.557 0 0 1 4.343 2.2 6.409 6.409 0 0 1 9.05.564C10.317.506 10.697.494 12 .494zM12 5.838A6.162 6.162 0 1 0 18.162 12 6.163 6.163 0 0 0 12 5.838zM12 16.031A4.031 4.031 0 1 1 16.031 12 4.036 4.036 0 0 1 12 16.031z"/></svg></a>
      <a id="whatsappLink" href="#" aria-label="WhatsApp"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M20 .5a12 12 0 0 0-18.36 14.16L.22 22.48a1 1 0 0 0 1.34 1.35l7.95-1.39A12 12 0 1 0 20 .5zM6.23 19.47l-.24.04-4.8.83.8-4.78A10 10 0 1 1 6.23 19.47z"/></svg></a>
    </div>

    <div class="footer__seal">BAJ√çO - M√âXICO</div>

    <div style="width:100%; margin-top:12px; border-top:1px solid rgba(225,184,108,0.06); padding-top:12px; text-align:center; color:var(--gold-soft); font-weight:700;">
      <div style="margin-bottom:6px;">
        <span style="display:inline-flex;align-items:center;gap:10px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" style="color:var(--gold-soft)"><path d="M21 16.5v3a1 1 0 0 1-1.1 1A19.9 19.9 0 0 1 3.5 6.1 1 1 0 0 1 4.5 5h3a1 1 0 0 1 1 .8c.2 1.1.6 2.1 1.2 3a1 1 0 0 1 .1 1l-1 .9A14 14 0 0 0 21 16.5z"/></svg>
          <span>476 132 8415</span>
        </span>
      </div>
      <div>Orgullosamente originarios de San Francisco del Rinc√≥n</div>
    </div>
  </footer>

  <!-- =========================================================================
       JavaScript: interactions, animations, fallbacks
       ========================================================================= -->
  <script>
    /* -----------------------
       Utility: Image fallback
       ----------------------- */
    function makeFallbackSVG(width=800, height=450, text='Imagen no disponible'){
      const bg = '#0b0b0b';
      const gold = '#e1b86c';
      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}' viewBox='0 0 ${width} ${height}'><rect width='100%' height='100%' fill='${bg}'/><text x='50%' y='50%' fill='${gold}' font-family='Inter, sans-serif' font-weight='700' font-size='28' dominant-baseline='middle' text-anchor='middle'>${text}</text></svg>`;
      return 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(svg);
    }
    function imgError(imgEl){
      try {
        if(!imgEl) return;
        if(imgEl.dataset.fallback) return;
        imgEl.dataset.fallback = '1';
        imgEl.src = makeFallbackSVG(800,450,'Imagen no disponible');
        imgEl.style.objectFit = 'cover';
      } catch(e){
        console.warn('imgError fallback failed', e);
      }
    }
    // attach fallback handlers
    document.querySelectorAll('img').forEach(img => {
      img.addEventListener('error', () => imgError(img));
    });

    /* -----------------------
       Menu Drawer Toggle
       ----------------------- */
    const menuBtn = document.getElementById('menuBtn');
    const navbarLinks = document.getElementById('navbarLinks');
    menuBtn.addEventListener('click', () => {
      const open = menuBtn.classList.toggle('active');
      navbarLinks.classList.toggle('active');
      menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
      navbarLinks.setAttribute('aria-hidden', open ? 'false' : 'true');
    });
    // Close drawer on click outside (mobile)
    document.addEventListener('click', (e) => {
      if (!navbarLinks.classList.contains('active')) return;
      const drawer = document.querySelector('.navbar__drawer');
      if (!drawer) return;
      if (!drawer.contains(e.target) && !menuBtn.contains(e.target)) {
        menuBtn.classList.remove('active');
        navbarLinks.classList.remove('active');
        menuBtn.setAttribute('aria-expanded', 'false');
        navbarLinks.setAttribute('aria-hidden', 'true');
      }
    });

    /* -----------------------
       IntersectionObserver reveals (performant)
       ----------------------- */
    const revealObserver = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          obs.unobserve(entry.target);
        }
      });
    }, { threshold: 0.12 });

    // observe elements that should reveal
    document.querySelectorAll('.fade-in-y, .step, .about__us, .rifa-card__img, footer, .footer__socials').forEach(el => revealObserver.observe(el));

    // specifically observe the mazda image to play reveal
    const mazdaImg = document.getElementById('mazdaImg');
    if (mazdaImg) {
      const imgObs = new IntersectionObserver((entries, io) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            e.target.classList.add('visible');
            io.unobserve(e.target);
          }
        });
      }, { threshold: 0.2 });
      imgObs.observe(mazdaImg);
    }

    /* -----------------------
       Progress bar animation
       ----------------------- */
    window.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.rifa-card__progress-bar').forEach(bar => {
        const v = Math.max(0, Math.min(100, parseInt(bar.dataset.value || '0', 10)));
        // small stagger
        setTimeout(() => { bar.style.width = v + '%'; }, 300);
      });

      // reveal steps, about, footer in stagger
      document.querySelectorAll('.step').forEach((s, i) => setTimeout(()=> s.classList.add('visible'), 350 + (i*150)));
      setTimeout(()=> document.querySelector('.about__us')?.classList.add('visible'), 700);
      setTimeout(()=> document.querySelector('footer')?.classList.add('visible'), 900);
      setTimeout(()=> document.querySelector('.footer__socials')?.classList.add('visible'), 1100);
    });

    /* -----------------------
       Header subtle transform on scroll
       ----------------------- */
    const header = document.getElementById('pageHeader');
    window.addEventListener('scroll', () => {
      const s = window.scrollY;
      if (s > 36) header.style.transform = 'translateY(-6px) scale(.999)';
      else header.style.transform = 'translateY(0) scale(1)';
    }, { passive: true });

    /* -----------------------
       Confetti micro-animation on CTA click (non-blocking)
       ----------------------- */
    (function confettiModule(){
      const canvas = document.getElementById('confetti-canvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let W = canvas.width = window.innerWidth;
      let H = canvas.height = window.innerHeight;
      window.addEventListener('resize', () => { W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; });

      const particles = [];
      function spawn(x,y){
        const count = 26 + Math.round(Math.random()*22);
        for(let i=0;i<count;i++){
          particles.push({
            x, y,
            vx: (Math.random()-0.5)*8,
            vy: (Math.random()*-8)-2,
            r: 6 + Math.random()*8,
            life: 60 + Math.round(Math.random()*40),
            color: ['#e1b86c','#c49a50','#4caf50'][Math.floor(Math.random()*3)],
            rot: Math.random()*360
          });
        }
      }
      function draw(){
        ctx.clearRect(0,0,W,H);
        for(let i=particles.length-1;i>=0;i--){
          const p = particles[i];
          p.x += p.vx; p.y += p.vy; p.vy += 0.36; p.life--;
          ctx.save();
          ctx.translate(p.x,p.y);
          ctx.rotate(p.rot*Math.PI/180);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
          ctx.restore();
          if(p.life <= 0 || p.y > H+50) particles.splice(i,1);
        }
        if(particles.length) requestAnimationFrame(draw);
      }

      // bind to CTA button click (visual only, navigation still happens)
      document.getElementById('participarBtn')?.addEventListener('click', (e) => {
        const rect = e.currentTarget.getBoundingClientRect();
        spawn(rect.left + rect.width/2, rect.top + 6);
        draw();
        // allow default link behavior (open in new tab)
      });
    })();

    /* -----------------------
       Subtle hero parallax on mouse move (desktop only)
       ----------------------- */
    (function heroParallax(){
      const hero = document.querySelector('.hero');
      if(!hero) return;
      hero.addEventListener('mousemove', (e) => {
        if(window.innerWidth < 720) return;
        const rect = hero.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width - 0.5;
        const y = (e.clientY - rect.top) / rect.height - 0.5;
        hero.style.transform = `translate3d(${x*6}px, ${y*4}px, 0)`;
        hero.style.transition = 'transform .22s linear';
      });
      hero.addEventListener('mouseleave', ()=> { hero.style.transform = ''; });
    })();

    /* -----------------------
       Helpful console helpers (edit social links easily)
       ----------------------- */
    // console examples:
    // document.getElementById('facebookLink').href = 'https://facebook.com/tuPagina';
    // document.getElementById('instagramLink').href = 'https://instagram.com/tuCuenta';
    // document.getElementById('whatsappLink').href = 'https://wa.me/5214761328415';
  </script>
</body>
</html>
